<local:BaseUserControl x:Class="EngineCell.Application.Views.TestDisplay.TestDisplay"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:EngineCell.Application.Views"
             xmlns:stripChart="clr-namespace:EngineCell.Application.Views.StripChart"
             xmlns:stripChartViewModel="clr-namespace:EngineCell.Application.ViewModels.StripChart"
             xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
             xmlns:pid="clr-namespace:EngineCell.Application.Views.Pid"
             xmlns:pidModel="clr-namespace:EngineCell.Application.ViewModels.Pid"
             xmlns:clocks="clr-namespace:EngineCell.Application.Views.Clocks"
             xmlns:extensions="clr-namespace:EngineCell.Application.Extensions"
             mc:Ignorable="d" 
             Loaded="TestDisplay_OnLoaded">
    <UserControl.Resources>
        <DataTemplate DataType="{x:Type stripChartViewModel:StripChartViewModel}">
            <stripChart:StripChart/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type pidModel:PidDisplayViewModel}">
            <pid:PidDisplay></pid:PidDisplay>
        </DataTemplate>
        <DataTemplate DataType="{x:Type pidModel:DynoThrottlePidViewModel}">
          <pid:DynoThrottlePid></pid:DynoThrottlePid>
        </DataTemplate>
        <extensions:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <extensions:InverseBoolToVisibilityConverter x:Key="InverseBoolToVisibilityConverter"/>
    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" MinWidth="350"/>
            <ColumnDefinition Width="5"/>
            <ColumnDefinition Width="*" MinWidth="200"/>
        </Grid.ColumnDefinitions>
        <Grid Column="0">
          <Grid.RowDefinitions>
            <RowDefinition Height="115"/>
            <RowDefinition Height="*"/>
          </Grid.RowDefinitions>
          <Grid Row="0">
            <ContentControl x:Name="DynoThrottle" Content="{Binding DynoThrottlePid}"></ContentControl>
          </Grid>
            <Grid Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="350"></ColumnDefinition>
                    <ColumnDefinition Width="350"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="75"/>
                    <RowDefinition Height="75"/>
                    <RowDefinition Height="75"/>
                </Grid.RowDefinitions>
                <ContentControl x:Name="Coolant" Content="{Binding CoolantPid}" Grid.Row="0" Grid.Column="0"></ContentControl>
                <ContentControl x:Name="Oil" Content="{Binding OilPid}" Grid.Row="0" Grid.Column="1"></ContentControl>
                <ContentControl x:Name="Intercooler" Content="{Binding Intercooler}" Grid.Row="1" Grid.Column="0"></ContentControl>
                <Button Grid.Row="2" Grid.Column="0" Background="{StaticResource GreenBrush}" Margin="70 20" Click="StartPhaseButton_Click" Visibility="{Binding Path=PhaseStarted, Converter={StaticResource InverseBoolToVisibilityConverter}}">Start</Button>
                <Button Grid.Row="2" Grid.Column="0" Background="OrangeRed" Margin="70 20" Click="StopPhaseButton_Click" Visibility="{Binding Path=PhaseStarted, Converter={StaticResource BoolToVisibilityConverter}}">Stop</Button>
            </Grid>
        </Grid>
        <GridSplitter Grid.Column="1" Width="Auto" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
        <Grid Column="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="5*"/>
                <RowDefinition Height="5*"/>
            </Grid.RowDefinitions>
            <Grid Row="0">
                <StackPanel Height="40" VerticalAlignment="Top" HorizontalAlignment="Left">
                    <clocks:RunTime x:Name="RunTimeClock" IsRunning="False"></clocks:RunTime>
                </StackPanel>
            </Grid>
            <Grid Row="1">
                <ContentControl x:Name="StripChartContent" Content="{Binding ChartViewModel}"></ContentControl>
            </Grid>
        </Grid>
    </Grid>
</local:BaseUserControl>
